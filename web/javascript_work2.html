<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <script>
        // 하이로우 게임 만들기 
        // 숫자 맞추기 높다 낮다 판별해서 몇번째에 맞추는지 카운팅 
        // 미션성공의 조건은 : 10회 이전, 30초 이전에 맞추기
        // 0~ 99.00000000
        var random = Math.random() * 100;
        // 소숫점 절삭 
        random = Math.floor(random) + 1;
        console.log('Random Number : ', random);
        
        var userNum = 0;
        var count = 1;
        var rtnNum = false; 
         
        function GameStart(callback, chance){            
            for(var i = 1; i <= chance; i++){
                rtnNum = callback();
                
                if(rtnNum) {
                    break;
                }
            }
        }
        
        function goGame(){
            var returnVal = false; 
            userNum = prompt('1~ 100까지 숫자를 입력해주세요.'); 

            if(!(Number(userNum))) {  
                alert('입력값을 확인해주세요.');
              
            } else {                 
                if(random > userNum) {
                    alert(userNum + '보다 높은 숫자 입니다.');
                } else if( userNum < userNum) {
                    alert(userNum + '보다 낮은 숫자 입니다.');
                } else {
                    alert('정답 입니다!');
                    clearInterval(intervarlId);
                }
            }   
              return returnVal;
        }
        
   
        
    </script>
</head>

<body>
    
</body>
<script>
    var intervarlId = setInterval(function(){
        count++;
    }, 1000);
    
    setTimeout(function(){
        if(!rtnNum){
            clearInterval(intervarlId); 
            alert('30초 타임아웃!');
        }
    }, 30*1000);
    
    // 게임 시작 (10번의 기회)
    GameStart(goGame, 10);     
</script>
</html>
